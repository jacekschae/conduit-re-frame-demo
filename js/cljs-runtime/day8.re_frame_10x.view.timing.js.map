{"version":3,"file":"day8.re_frame_10x.view.timing.js","sources":["day8/re_frame_10x/view/timing.cljs"],"mappings":"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","names":["day8.re-frame-10x.common-styles/gs-12s","event-processing-time","G__28374","mranderson047.re-frame.v0v10v2.re-frame.core/subscribe","day8.re-frame-10x.view.timing/timing-section","cljs.core/deref","timing-data-available?","G__28373","day8.re-frame-10x.common-styles/gs-19s","day8.re-frame-10x.common-styles/border-line-color","day8.re-frame-10x.view.components/tag","label","frame-time","G__28385","G__28386","frame","day8.re-frame-10x.view.timing/timing-tag","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","time","day8.re-frame-10x.utils.re-com/v-box","day8.re-frame-10x.common-styles/gs-7s","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","day8.re-frame-10x.common-styles/panel-style","day8.re-frame-10x.utils.re-com/h-box","cljs.core.doall.cljs$core$IFn$_invoke$arity$1","G__28375","day8.re-frame-10x.common-styles/gs-81s","day8.re-frame-10x.common-styles/disabled-background-color","day8.re-frame-10x.utils.re-com/label","day8.re-frame-10x.view.timing/render","day8.re-frame-10x.common-styles/gs-31s","js/Math.round","cljs.core/chunk-first","s__28377","cljs.core/List","day8.re-frame-10x.utils.re-com/hyperlink-href","iter__4292__auto__","cljs.core/LazySeq","temp__5457__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4290__auto__","size__4291__auto__","cljs.core/count","b__28379","cljs.core/chunk-buffer","i__28378","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__28376","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core.range.cljs$core$IFn$_invoke$arity$2","G__28387","day8.re-frame-10x.view.timing/timing-styles"],"sourcesContent":["(ns day8.re-frame-10x.view.timing\n  (:require [devtools.prefs]\n            [devtools.formatters.core]\n            [mranderson047.re-frame.v0v10v2.re-frame.core :as rf]\n            [day8.re-frame-10x.utils.re-com :as rc]\n            [day8.re-frame-10x.common-styles :as common]\n            [day8.re-frame-10x.view.components :as components]))\n\n(def timing-styles\n  [:#--re-frame-10x--\n   [:.timing-details\n    {:margin-top common/gs-31s}]\n   [:.timing-details--line\n    {:margin \"1em 0\"}]\n\n   [:p :ol\n    {:max-width \"26em\"}]\n   [:ol\n    {\"-webkit-padding-start\" \"20px\"}]\n   [:li\n    {:margin \"0 0 1em 0\"}]\n\n   [\".rft-tag__timing\"\n    {:background-color common/disabled-background-color\n     :border           (str \"1px solid \" common/border-line-color)\n     :font-weight      \"normal\"\n     :font-size        \"14px\"\n     :width            \"63px\"}]\n\n   [\".timing-elapsed-panel\"\n    {:padding \"12px 12px 12px 0\"\n     :margin  common/gs-7s}]\n   [\".timing-part-panel\"\n    (merge (common/panel-style \"3px\")\n           {:padding \"12px\"\n            :margin  common/gs-7s})]\n   ])\n\n(defn timing-tag [label]\n  [components/tag \"rft-tag__timing\" label])\n\n(defn timing-section\n  [label time]\n  [rc/v-box\n   :align :center\n   :gap \"3px\"\n   ;; TODO: detect <1 ms timing here, to distinguish between none at all, and rounding to 0.\n   :children [[rc/label :class \"bm-textbox-label\" :label label]\n              [timing-tag (cond\n                            (nil? time) \"-\"\n                            (= time 0) (str \"0ms\")\n                            (< time 0.1) (str \"<0.1ms\")\n                            (< time 1) (str (.toFixed time 1) \"ms\")\n                            (some? time) (str (js/Math.round time) \"ms\")\n\n                            )]]])\n\n(defn render []\n  (let [timing-data-available? @(rf/subscribe [:timing/data-available?])\n        event-processing-time  @(rf/subscribe [:timing/event-processing-time])]\n    (if timing-data-available?\n      [rc/v-box\n       :class \"timing-details\"\n       :children [[rc/h-box\n                   :class \"timing-elapsed-panel\"\n                   :align :end\n                   :children [[timing-section \"elapsed\" @(rf/subscribe [:timing/total-epoch-time])]\n                              [rc/hyperlink-href\n                               :label \"guide me to greatness\"\n                               :style {:margin-left common/gs-19s}\n                               :attr {:rel \"noopener noreferrer\"}\n                               :target \"_blank\"\n                               :href \"https://github.com/Day8/re-frame-10x/blob/master/docs/HyperlinkedInformation/UnderstandingTiming.md\"]]]\n                  [rc/h-box\n                   :gap common/gs-12s\n                   :class \"timing-part-panel\"\n                   :align :center\n                   :children\n                   [[rc/v-box\n                     :align :center\n                     :width common/gs-81s\n                     :children [[:span \"event\"] [:span \"processing\"]]]\n                    [timing-section \"total\" (:timing/event-total event-processing-time)]\n                    [:span \"=\"]\n                    [timing-section \"handler\" (:timing/event-handler event-processing-time)]\n                    [:span \"+\"]\n                    [timing-section \"effects\" (:timing/event-effects event-processing-time)]\n                    #_[:span \"+\"]\n                    #_[timing-section \"other int.\" (:timing/event-interceptors event-processing-time)]\n                    [:span \"+\"]\n                    [timing-section \"misc\" (:timing/event-misc event-processing-time)]\n\n                    ]]\n                  (doall\n                    (for [frame (range 1 (inc @(rf/subscribe [:timing/animation-frame-count])))\n                          :let [frame-time @(rf/subscribe [:timing/animation-frame-time frame])]]\n                      (list\n                        ;^{:key (str \"af-line\" frame)}\n                        ;[rc/line :class \"timing-details--line\"]\n                        ^{:key (str \"af\" frame)}\n                        [rc/h-box\n                         :align :center\n                         :class \"timing-part-panel\"\n                         :gap common/gs-12s\n                         :children\n                         [[rc/v-box\n                           :align :center\n                           :width common/gs-81s\n                           :children [[:span \"animation\"] [:span \"frame\"] [:span \"#\" frame]]]\n                          [timing-section \"total\" (:timing/animation-frame-total frame-time)]\n                          [:span \"=\"]\n                          [timing-section \"subs\" (:timing/animation-frame-subs frame-time)]\n                          [:span \"+\"]\n                          [timing-section \"views\" (:timing/animation-frame-render frame-time)]\n                          [:span \"+\"]\n                          [timing-section \"react, etc\" (:timing/animation-frame-misc frame-time)]]])))]]\n      [rc/v-box\n       :class \"timing-details\"\n       :children [[:h1 \"No timing data currently available.\"]]])))\n"]}