{"version":3,"file":"rewrite_clj.node.meta.js","sources":["rewrite_clj/node/meta.cljs"],"mappings":"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","names":["rewrite-clj.node.protocols/assert-sexpr-count","children'","children","_","G__28488","metadata","data","rewrite-clj.node.meta/->MetaNode","cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic","var_args","G__28536","rewrite-clj.node.meta/meta-node","js/Error","rewrite-clj.node.protocols/string","this","G__28539","rewrite-clj.node.meta/raw-meta-node","this__11972__auto__","k__11973__auto__","cljs.core._lookup.cljs$core$IFn$_invoke$arity$3","this__11974__auto__","k28481","else__11975__auto__","cljs.core/Keyword","tag","prefix","cljs.core.get.cljs$core$IFn$_invoke$arity$3","__extmap","this__11986__auto__","writer__11987__auto__","opts__11988__auto__","pr-pair__11989__auto__","keyval__11990__auto__","cljs.core/pr-sequential-writer","cljs.core/pr-writer","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","cljs.core/PersistentVector","G__28480","cljs.core/RecordIter","cljs.core/-iterator","cljs.core/nil-iter","this__11970__auto__","__meta","this__11967__auto__","__hash","this__11976__auto__","cljs.core/count","this__11968__auto__","h__4030__auto__","fexpr__28490","coll__11969__auto__","cljs.core/hash-unordered-coll","this28484","other28485","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core/PROTOCOL_SENTINEL","this__11981__auto__","k__11982__auto__","cljs.core/contains?","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","cljs.core/-with-meta","cljs.core.into.cljs$core$IFn$_invoke$arity$2","cljs.core/not-empty","this__11979__auto__","k__11980__auto__","pred__28501","cljs.core/keyword-identical?","expr__28502","G__28504","G__28505","G__28506","G__28507","G__28511","G__28512","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","this__11984__auto__","cljs.core/seq","this__11971__auto__","this__11977__auto__","entry__11978__auto__","cljs.core/vector?","cljs.core/-assoc","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core.reduce.cljs$core$IFn$_invoke$arity$3","cljs.core/-conj","rewrite-clj.node.meta/MetaNode","this__4208__auto__","cljs.core/List","writer__4209__auto__","cljs.core/-write","G__28486","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic","rewrite-clj.node.meta/map->MetaNode","rewrite_clj.node.meta.raw_meta_node.cljs$core$IFn$_invoke$arity$1","rewrite-clj.node.whitespace/spaces","vec__28493","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","mta","rewrite-clj.node.protocols/sexprs","cljs.core/with-meta","cljs.core/map?","rewrite-clj.node.protocols/sum-lengths","rewrite-clj.node.protocols/concat-strings","rewrite_clj.node.meta.meta_node.cljs$core$IFn$_invoke$arity$1"],"sourcesContent":["(ns rewrite-clj.node.meta\n  (:require [rewrite-clj.node.protocols :as node]\n            [rewrite-clj.node.whitespace :as ws]))\n\n;; ## Node\n\n(defrecord MetaNode [tag prefix children]\n  node/Node\n  (tag [_] tag)\n  (printable-only? [_] false)\n  (sexpr [_]\n    (let [[mta data] (node/sexprs children)]\n      (assert (implements? IWithMeta data)\n              (str \"cannot attach metadata to: \" (pr-str data)))\n      (with-meta data (if (map? mta) mta {mta true}))))\n  (length [_]\n    (+ (count prefix) (node/sum-lengths children)))\n  (string [_]\n    (str prefix (node/concat-strings children)))\n\n  node/InnerNode\n  (inner? [_] true)\n  (children [_] children)\n  (replace-children [this children']\n    (node/assert-sexpr-count children' 2)\n    (assoc this :children children'))\n\n  Object\n  (toString [this]\n    (node/string this)))\n\n;; TODO\n;(node/make-printable! MetaNode)\n\n;; ## Constructor\n\n(defn meta-node\n  \"Create node representing a form and its metadata.\"\n  ([children]\n   (node/assert-sexpr-count children 2)\n   (->MetaNode :meta \"^\" children))\n  ([metadata data]\n   (meta-node [metadata (ws/spaces 1) data])))\n\n(defn raw-meta-node\n  \"Create node representing a form and its metadata using the\n   `#^` prefix.\"\n  ([children]\n   (node/assert-sexpr-count children 2)\n   (->MetaNode :meta* \"#^\" children))\n  ([metadata data]\n   (raw-meta-node [metadata (ws/spaces 1) data])))\n"]}