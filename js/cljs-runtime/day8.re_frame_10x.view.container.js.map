{"version":3,"file":"day8.re_frame_10x.view.container.js","sources":["day8/re_frame_10x/view/container.cljs"],"mappings":"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","names":["showing-settings?","cljs.core/deref","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","selected-tab","G__31316","mranderson047.re-frame.v0v10v2.re-frame.core/dispatch","day8.re-frame-10x.view.container/open-external","day8.re-frame-10x.view.container/settings-header","external-window?","and__3911__auto__","unloading?","day8.re-frame-10x.view.container/pause-svg","day8.re-frame-10x.view.container/standard-header","day8.re-frame-10x.view.container/triangle-down","G__31315","day8.re-frame-10x.view.debug/render","G__31308","panel-id","title","G__31314","older-epochs-available?","G__31335","mranderson047.re-frame.v0v10v2.re-frame.core/subscribe","day8.re-frame-10x.view.container/tab-button","current-event","panel-type","day8.re-frame-10x.view.settings/render","day8.re-frame-10x.view.container/play-svg","day8.re-frame-10x.utils.re-com/h-box","G__31342","paused?","day8.re-frame-10x.view.container/devtools-inner","opts","day8.re-frame-10x.utils.re-com/v-box","day8.re-frame-10x.utils.re-com/line","day8.re-frame-10x.common-styles/sidebar-heading-divider-color","day8.re-frame-10x.view.container/settings-svg","day8.re-frame-10x.view.traces/render","cljs.core.subs.cljs$core$IFn$_invoke$arity$3","cljs.core.prn_str.cljs$core$IFn$_invoke$arity$variadic","G__31340","day8.re-frame-10x.view.parts/render","newer-epochs-available?","day8.re-frame-10x.view.container/orange-settings-svg","G__31307","day8.re-frame-10x.view.fx/render","event-str","G__31338","day8.re-frame-10x.view.event/render","day8.re-frame-10x.view.container/right-hand-buttons","cljs.core/contains?","G__31336","G__31312","re-frame.trace/is-trace-enabled?","day8.re-frame-10x.view.subs/render","cljs.core/Keyword","day8.re-frame-10x.utils.re-com/gap-f","day8.re-frame-10x.common-styles/gs-12s","day8.re-frame-10x.common-styles/standard-background-color","G__31341","day8.re-frame-10x.utils.re-com/label","day8.re-frame-10x.view.timing/render","G__31337","day8.re-frame-10x.view.views/render","G__31334","day8.re-frame-10x.view.app-db/render","re-frame.db/app-db","day8.re-frame-10x.common-styles/gs-19s","G__31317","mranderson047.re-frame.v0v10v2.re-frame.core/dispatch-sync","G__31311","day8.re-frame-10x.view.container/outer-margins","G__31313"],"sourcesContent":["(ns day8.re-frame-10x.view.container\n  (:require-macros [day8.re-frame-10x.utils.macros :as macros])\n  (:require [mranderson047.re-frame.v0v10v2.re-frame.core :as rf]\n            [re-frame.db :as db]\n            [day8.re-frame-10x.view.event :as event]\n            [day8.re-frame-10x.view.app-db :as app-db]\n            [day8.re-frame-10x.view.subs :as subs]\n            [day8.re-frame-10x.view.views :as views]\n            [day8.re-frame-10x.view.traces :as traces]\n            [day8.re-frame-10x.view.fx :as fx]\n            [day8.re-frame-10x.view.parts :as parts]\n            [day8.re-frame-10x.view.timing :as timing]\n            [day8.re-frame-10x.view.debug :as debug]\n            [day8.re-frame-10x.view.settings :as settings]\n            [mranderson047.garden.v1v3v3.garden.core :refer [css style]]\n            [mranderson047.garden.v1v3v3.garden.units :refer [px]]\n            [re-frame.trace]\n            [day8.re-frame-10x.utils.re-com :as rc]\n            [day8.re-frame-10x.common-styles :as common]))\n\n(def triangle-down (macros/slurp-macro \"day8/re_frame_10x/images/triangle-down.svg\"))\n(defn tab-button [panel-id title]\n  (let [selected-tab @(rf/subscribe [:settings/selected-tab])]\n    [rc/v-box\n     :style    {:margin-bottom \"-8px\"\n                :z-index       1}\n     :children [[:button {:class    (str \"tab button bm-heading-text \" (when (= selected-tab panel-id) \"active\"))\n                          :on-click #(rf/dispatch [:settings/selected-tab panel-id])} title]\n                [:img {:src   (str \"data:image/svg+xml;utf8,\" triangle-down)\n                       :style {:opacity (if (= selected-tab panel-id) \"1\" \"0\")}}]]]))\n\n(def open-external (macros/slurp-macro \"day8/re_frame_10x/images/logout.svg\"))\n(def settings-svg (macros/slurp-macro \"day8/re_frame_10x/images/wrench.svg\"))\n(def orange-settings-svg (macros/slurp-macro \"day8/re_frame_10x/images/orange-wrench.svg\"))\n(def pause-svg (macros/slurp-macro \"day8/re_frame_10x/images/pause.svg\"))\n(def play-svg (macros/slurp-macro \"day8/re_frame_10x/images/play.svg\"))\n\n(def outer-margins {:margin (str \"0px \" common/gs-19s)})\n\n\n\n(defn right-hand-buttons [external-window?]\n  (let [selected-tab      (rf/subscribe [:settings/selected-tab])\n        paused?           (rf/subscribe [:settings/paused?])\n        showing-settings? (= @selected-tab :settings)]\n    [rc/h-box\n     :align    :center\n     :children [(when showing-settings?\n                  [:button {:class    \"bm-active-button\"\n                            :on-click #(rf/dispatch [:settings/toggle-settings])} \"Done\"])\n                (if @paused?\n                  [:img.nav-icon.noselect\n                   {:title    \"Play\"\n                    :src      (str \"data:image/svg+xml;utf8,\"\n                                   play-svg)\n                    :on-click #(rf/dispatch [:settings/play])}]\n                  [:img.nav-icon.noselect\n                   {:title    \"Pause\"\n                    :src      (str \"data:image/svg+xml;utf8,\"\n                                   pause-svg)\n                    :on-click #(rf/dispatch [:settings/pause])}])\n                [:img.nav-icon.noselect\n                 {:title    \"Settings\"\n                  :src      (str \"data:image/svg+xml;utf8,\"\n                                 (if showing-settings? orange-settings-svg settings-svg))\n                  :on-click #(rf/dispatch [:settings/toggle-settings])}]\n                (when-not external-window?\n                  [:img.nav-icon.active.noselect\n                   {:title    \"Pop out\"\n                    :src      (str \"data:image/svg+xml;utf8,\"\n                                   open-external)\n                    :on-click #(rf/dispatch-sync [:global/launch-external])}])]])\n  )\n\n(defn settings-header [external-window?]\n  [[rc/h-box\n    :align :center\n    :size \"auto\"\n    :gap common/gs-12s\n    :children [[rc/label :class \"bm-title-text\" :label \"Settings\"]]]\n   ;; TODO: this line needs to be between Done and other buttons\n   [rc/gap-f :size common/gs-12s]\n   [rc/line :size \"2px\" :color common/sidebar-heading-divider-color]\n   [rc/gap-f :size common/gs-12s]\n   [right-hand-buttons external-window?]])\n\n(defn standard-header [external-window?]\n  (let [current-event           @(rf/subscribe [:epochs/current-event])\n        older-epochs-available? @(rf/subscribe [:epochs/older-epochs-available?])\n        newer-epochs-available? @(rf/subscribe [:epochs/newer-epochs-available?])\n        event-str               (if (some? current-event)\n                                  (subs (prn-str current-event) 0 400)\n                                  \"No event\")]\n    [[rc/h-box\n      :align    :center\n      :size     \"auto\"\n      :gap      common/gs-12s\n      :children [[:span.arrow (if older-epochs-available?\n                                {:on-click #(rf/dispatch [:epochs/previous-epoch])}\n                                {:class \"arrow__disabled\"}) \"\u25c0\"]\n                 [rc/v-box\n                  :size     \"auto\"\n                  :style    {:max-height       \"42px\" ;42 is exactly 2 lines which is perhaps neater than common/gs-50s (which would allow 3 lines to be seen)\n                             :overflow-x       \"hidden\"\n                             :overflow-y       \"auto\"\n                             :background-color \"white\"\n                             :font-style       (if (some? current-event) \"normal\" \"italic\")}\n                  :children [[:span.event-header event-str]]]\n                 [:span.arrow (if newer-epochs-available?\n                                {:on-click #(rf/dispatch [:epochs/next-epoch])}\n                                {:class \"arrow__disabled\"})\n                  \"\u25b6\"]]]\n     [rc/gap-f :size common/gs-12s]\n     [rc/line :size \"2px\" :color common/sidebar-heading-divider-color]\n     [right-hand-buttons external-window?]]))\n\n(defn devtools-inner [opts]\n  (let [selected-tab      (rf/subscribe [:settings/selected-tab])\n        panel-type        (:panel-type opts)\n        external-window?  (= panel-type :popup)\n        unloading?        (rf/subscribe [:global/unloading?])\n        showing-settings? (= @selected-tab :settings)]\n    [:div.panel-content\n     {:style {:width \"100%\" :display \"flex\" :flex-direction \"column\" :background-color common/standard-background-color}}\n     (if showing-settings?\n       [rc/h-box\n        :class    \"panel-content-top nav\"\n        :style    {:padding \"0px 19px\"}\n        :children (settings-header external-window?)]\n       [rc/h-box\n        :class    \"panel-content-top nav\"\n        :style    {:padding \"0px 19px\"}\n        :children (standard-header external-window?)])\n     (when-not showing-settings?\n       [rc/h-box\n        :class    \"panel-content-tabs\"\n        :justify  :between\n        :children [[rc/h-box\n                    :gap      \"7px\"\n                    :align    :end\n                    :height   \"50px\"\n                    :children [(tab-button :event \"Event\")\n                               (tab-button :fx \"fx\")\n                               (tab-button :app-db \"app-db\")\n                               (tab-button :subs \"Subs\")\n                               (when (:debug? opts)\n                                 (tab-button :parts \"Parts\"))\n                               ;(tab-button :views \"Views\")\n                               (tab-button :traces \"Trace\")\n                               (tab-button :timing \"Timing\")\n                               (when (:debug? opts)\n                                 (tab-button :debug \"Debug\"))]]]])\n     [rc/line :color \"#EEEEEE\"]\n     (when (and external-window? @unloading?)\n       [:h1.host-closed \"Host window has closed. Reopen external window to continue tracing.\"])\n     (when-not (re-frame.trace/is-trace-enabled?)\n       [:h1.host-closed {:style {:word-wrap \"break-word\"}} \"Tracing is not enabled. Please set \"\n        ;; Note this Closure define is in re-frame, not re-frame-10x\n        [:pre \"{\\\"re_frame.trace.trace_enabled_QMARK_\\\" true}\"] \" in \" [:pre \":closure-defines\"]])\n     [rc/v-box\n      :size \"auto\"\n      :style {:margin-left common/gs-19s\n              :overflow-y  (if (contains? #{:event :fx :parts :timing :debug :settings} @selected-tab)\n                             \"auto\" \"initial\")\n              ;:overflow    \"auto\" ;; TODO: Might have to put this back or add scrolling within the panels\n              }\n      :children [(case @selected-tab\n                   :event    [event/render]\n                   :fx       [fx/render]\n                   :app-db   [app-db/render db/app-db]\n                   :subs     [subs/render]\n                   :views    [views/render]\n                   :parts    [parts/render]\n                   :timing   [timing/render]\n                   :traces   [traces/render]\n                   :debug    [debug/render]\n                   :settings [settings/render]\n                   [app-db/render db/app-db])]]]))\n\n"]}